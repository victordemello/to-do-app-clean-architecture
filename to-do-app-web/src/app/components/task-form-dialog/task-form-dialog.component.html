<p-dialog
  [header]="dialogTitle"
  [visible]="visible()"
  [modal]="true"
  [closable]="true"
  [draggable]="false"
  [resizable]="false"
  [style]="{ width: '450px' }"
  (onHide)="handleHide()"
>
  <div class="task-form">
    <div class="task-form__field">
      <label for="title" class="task-form__label">Title</label>
      <input
        pInputText
        id="title"
        [ngModel]="title()"
        (ngModelChange)="title.set($event)"
        placeholder="Enter task title"
        class="task-form__input"
        maxlength="100"
      />
      <small class="task-form__hint">{{ title().length }}/100 characters</small>
    </div>

    <div class="task-form__field">
      <label for="description" class="task-form__label">Description</label>
      <textarea
        pTextarea
        id="description"
        [ngModel]="description()"
        (ngModelChange)="description.set($event)"
        placeholder="Describe the task"
        class="task-form__textarea"
        rows="4"
        maxlength="500"
      ></textarea>
      <small class="task-form__hint">{{ description().length }}/500 characters</small>
    </div>
  </div>

  <ng-template pTemplate="footer">
    <div class="task-form__actions">
      <p-button
        label="Cancel"
        severity="secondary"
        [text]="true"
        (click)="handleHide()"
      />
      <p-button
        [label]="isEditMode ? 'Save' : 'Create'"
        [icon]="isEditMode ? 'pi pi-check' : 'pi pi-plus'"
        [loading]="loading()"
        [disabled]="!isFormValid"
        (click)="handleSubmit()"
      />
    </div>
  </ng-template>
</p-dialog>
