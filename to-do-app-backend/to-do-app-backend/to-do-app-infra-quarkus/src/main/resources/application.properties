# Application
quarkus.application.name=to-do-app-quarkus

# MySQL Database
quarkus.datasource.db-kind=mysql
quarkus.datasource.username=${DB_USER:todouser}
quarkus.datasource.password=${DB_PASSWORD:todopassword}
quarkus.datasource.jdbc.url=jdbc:mysql://${DB_HOST:localhost}:${DB_PORT:3306}/${DB_NAME:tododb}?useSSL=false&allowPublicKeyRetrieval=true&serverTimezone=UTC

# Connection Pool
quarkus.datasource.jdbc.max-size=10
quarkus.datasource.jdbc.min-size=5
quarkus.datasource.jdbc.initial-size=5
quarkus.datasource.jdbc.acquisition-timeout=5S
quarkus.datasource.jdbc.idle-removal-interval=2M
quarkus.datasource.jdbc.background-validation-interval=2M

# Hibernate (schema-management.strategy replaces deprecated database.generation)
quarkus.hibernate-orm.schema-management.strategy=${DDL_AUTO:update}
quarkus.hibernate-orm.log.sql=${SHOW_SQL:false}
quarkus.hibernate-orm.log.format-sql=true
quarkus.hibernate-orm.jdbc.statement-batch-size=20

# Server
quarkus.http.port=${SERVER_PORT:8080}

# CORS
quarkus.http.cors.enabled=true
quarkus.http.cors.origins=${CORS_ALLOWED_ORIGINS:http://localhost:4200,http://localhost:80}
quarkus.http.cors.methods=GET,POST,PUT,DELETE,PATCH,OPTIONS
quarkus.http.cors.headers=*
quarkus.http.cors.access-control-max-age=3600

# Jackson
quarkus.jackson.write-dates-as-timestamps=false
quarkus.jackson.timezone=UTC

# Health Check
quarkus.smallrye-health.root-path=/actuator/health

# Logging
quarkus.log.level=${LOG_LEVEL:INFO}
quarkus.log.category."com.mello.todoappquarkus".level=${APP_LOG_LEVEL:DEBUG}
quarkus.log.console.format=%d{yyyy-MM-dd HH:mm:ss} - %c{3.} - %m%n

# Dev Mode
%dev.quarkus.hibernate-orm.log.sql=true
%dev.quarkus.log.level=DEBUG

# OpenAPI / Swagger
quarkus.smallrye-openapi.path=/api-docs
quarkus.swagger-ui.path=/swagger-ui
quarkus.swagger-ui.always-include=true
quarkus.smallrye-openapi.info-title=To-Do App API
quarkus.smallrye-openapi.info-version=1.0.0
quarkus.smallrye-openapi.info-description=API for managing tasks in the To-Do application (Quarkus)
